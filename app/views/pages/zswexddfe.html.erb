<div class="container home-rds-selection">
  <h2>Les dernières paires en ligne</h2>
  <div class="sneaker-cards">
    <% @sneakers_selected.each do |sneaker| %>
      <div class="sneaker-card">
        <div class="sneaker-card_img" data-toggle="modal" data-target="#exampleModal-<%= sneaker.id %>" id="okok">
          <%= cl_image_tag(sneaker.photos[0].key) %>
        </div>
        <div class="sneaker-title"><strong><%= sneaker.sneaker_db.name %></strong></div>
        <div class="sneaker-price"><%= sneaker.size %> US &nbsp;| <%= sneaker.condition %> / 10 &nbsp;|&nbsp; <%= humanized_money_with_symbol sneaker.price %></div>
      </div>
      <div class="modal fade bd-example-modal-lg" id="exampleModal-<%= sneaker.id %>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel"><%= sneaker.sneaker_db.name %></h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span class="close-modal" aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div id="carousel-<%= sneaker.id %>-home" class="carousel slide carousel-slide-body-sneaker" data-ride="carousel">
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <%= cl_image_tag(sneaker.photos[0].key, class: 'sneaker-show-photos') %>
                  </div>
                  <div class="carousel-item ">
                    <%= cl_image_tag(sneaker.photos[1].key, class: 'sneaker-show-photos') %>
                  </div>
                  <a class="carousel-control-prev" href="#carousel-<%= sneaker.id %>-home" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon sneaker-show-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                  </a>
                  <a class="carousel-control-next" href="#carousel-<%= sneaker.id %>-home" role="button" data-slide="next">
                    <span class="carousel-control-next-icon sneaker-show-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                  </a>
                </div>
                <div class="modal-sneaker-logos">
                  <div class="modal-sneaker-logos-microscope">
                    <%= image_tag("sneaker/microscope.svg") %>
                    <h5>GARANTIES AUTHENTIQUES</h5>
                    <p>Avant que la paire te sois envoyée, cette dernière passe entre nos mains afin d’être vérifiée par des experts en Legit Check</p>
                    <a href="">En savoir plus sur l’authentification</a>
                    </div>
                  <div class="modal-sneaker-logos-truck">
                    <%= image_tag("sneaker/truck.svg") %>
                    <h5>LIVRAISON A PARTIR DE 5€</h5>
                    <p>Pour réduire le coût au maximum nous te proposons la livraison MondialRelay, plus sécurisée elle à aussi l’avantage d’être la moins couteuse pour toi</p>
                    <a href="">En savoir plus sur l’authentification </a>
                  </div>
                </div>
                <div class="modal-sneaker-infos">
                  <p><strong><%= humanized_money_with_symbol sneaker.price %></strong><br>Hors frais d'authentification <br>
                  <%= link_to("Tout savoir sur l'authentification", authentification_path, style:"color:#707981", target: :_blank) %></p>
                  <div class='modal-sneaker-all'>
                    <div class="modal-sneaker-size-cond">
                      <p>Taille : <strong><%=  sneaker.size %> US</strong></p>
                      <p>Condition : <strong><%= sneaker.condition %>/10</strong><br>
                      <%= link_to("Tout savoir sur les conditions", faq_path, style:"color:#707981", target: :_blank) %></p>
                    </div>
                    <div class="modal-sneaker-box-extras">
                      <p>Box : <strong><%= sneaker.box %></strong></p>
                      <p>Description : <strong><%= sneaker.extras %></strong></p>
                    </div>
                  </div>
                </div>
                <div class="desktop-btn-action">
                  <button  type="button" class="btn btn-dark btn-lg modal-btn-action">ACHETER</button>
                </div>

              </div>
              
            </div>
            <div class="modal-footer" style="justify-content: center;">             
              <% if current_user != sneaker.user && sneaker.user.stripe_account_id? %>
                <% unless current_user.nil? %>
                  <%= form_tag orders_path(sneaker_id: sneaker.id), id: "order_create_#{sneaker.id }" do %>
                    <%= submit_tag 'Acheter', class: 'btn btn-dark' %>
                  <% end %>
                <% else %>
                  <%= form_tag user_session_path(sneaker_id: sneaker.id) do %>
                    <%= submit_tag 'Acheter', class: 'btn btn-dark' %>
                  <% end %>
                <% end %>
              <% end %>
              <% if policy(sneaker).edit? %>
                <button type="button" class="btn sneaker-show-btn" style="background-color: #2e3338;" >
                  <a onclick="location.href='<%= sneaker_path(sneaker) %>';" data-dismiss="modal" style="color:white">Voir mon annonce</a>
                </button>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>  
</div>
<div type="button" class="link-home-page all_sneakers">Tout voir</div>


<style type="text/css">
  
  .modal-sneaker-logos-truck, .modal-sneaker-logos-microscope {
    border: 3px solid #DDDDDD;
    border-radius: 11px;
    padding: 10px;
  }
  .modal-content {
    border: 3px solid #6C6C6C;
    border-radius: 10px;
  }
  @media (min-width: 320px) {
    .desktop-btn-action {
      display: none
    }
    .modal-sneaker-infos {
      margin-top:20px;
    }
    .modal-sneaker-logos {
      margin-top:10px;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      grid-gap: 3px;
      flex-direction: column;
      text-align: center;
    }
    .modal-sneaker-logos img {
      width:40px;
      margin-bottom:10px;
    }
    .modal-sneaker-logos h5 {
      font-size:12px;
    }
    .modal-sneaker-logos p, a {
      font-size:10px;
      color: black;
      text-decoration: none;
    }
    .modal-sneaker-logos a {
      font-size: 9px;
    }
  }
  @media (min-width: 768px) {
    .carousel-slide-body {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      align-items: center;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    .modal-sneaker-infos {
      grid-column: 1 / 3;
    }
    .modal-sneaker-logos img {
      width:40px;
      margin-bottom:0px;
    }
    .modal-sneaker-logos {
      display: block;
      padding:0 20px;
    }
    .modal-sneaker-logos h5 {
      margin-top:5px;
      font-size:10px;
    }
    .modal-sneaker-logos p, a {
      margin:0px;
      font-size:8px;
    }
    .modal-sneaker-logos-truck {
      margin-top: 10px;
    }
  }
  @media (min-width: 1024px) {
    .modal-sneaker-infos {
      grid-column: 1 / 2;
    }
    .modal-footer {
      display: none;
    }
    .desktop-btn-action {
      display: block;
    }
    .modal-btn-action {
      width: 200px;
      font-style: italic;
      font-weight: bold;
      font-size: 26px;
      border-radius: 33px;
    }
    .modal-sneaker-logos img {
      width:60px;
      margin-bottom:0px;
    }
    .modal-sneaker-logos {
      display: block;
      padding:0 40px;
    }
    .modal-sneaker-logos h5 {
      margin-top:10px;
      font-size:15px;
    }
    .modal-sneaker-logos p, a {
      margin:15px;
      font-size:12px;
    }
    .modal-sneaker-logos-truck {
      margin-top: 10px;
    } 
  }
  @media (min-width: 1440px) {
    .modal-sneaker-logos img {
      width:70px;
      margin-bottom:10px;
    }
    .modal-sneaker-logos h5 {
      font-size:14px;
    }
    .modal-sneaker-logos p, a {
      font-size:13px;
      color: black;
      text-decoration: none;
    }
    .modal-sneaker-logos a {
      font-size: 11px;
    }
    @media (min-width: 1024px) {
    .modal-sneaker-logos img {
      width:70px;
      margin-bottom:10px;
    }
    .modal-sneaker-logos h5 {
      font-size:14px;
    }
    .modal-sneaker-logos p, a {
      font-size:13px;
      color: black;
      text-decoration: none;
    }
    .modal-sneaker-logos a {
      font-size: 11px;
    }

  }
</style>

<!-- <script type="text/javascript">
  document.addEventListener('turbolinks:load', () => {
    document.querySelector('#okok').click();
  });
</script> -->