var mediaQuery = window.matchMedia('(min-width: 576px)')

<% if @guide_req.valid? %>
  if (mediaQuery.matches) {
    var modalEl = document.getElementById('modal')
    var modal = bootstrap.Modal.getOrCreateInstance(modalEl)
    var formContainer = modalEl.querySelector('#form-container')
    formContainer.innerHTML = "<%= j render partial: 'payment' %>"
    modal.show()
  } else {
    var offcanvasEl = document.getElementById('offcanvas')
    var offcanvas = bootstrap.Offcanvas.getOrCreateInstance(offcanvasEl)
    offcanvasEl.querySelector('.offcanvas-body').innerHTML = "<%= j render partial: 'payment' %>"
    offcanvas.show()
  }
  showModalSpinner()
  initStripe("GuideRequest", <%= @guide_req.id %>)
<% else %>
  showErrorMessage("<%= @message %>")
<% end %>