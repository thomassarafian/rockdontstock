<div class="modal-wrapper">
  <div class="modal__infos">
    <%= image_tag(@guide.img_url, class: "modal__img") %>
      <div class="modal__subtitle">Le Guide Gratuit</div>
      <div class="modal__guide-name">
        <%= @guide.name %>
      </div>
      <% if @is_purchase %>
        <ul class="modal__checklist modal__checklist--guide">
          <li><i class="fas fa-check-circle"></i> Paiement Stripe sécurisé</li>
          <li><i class="fas fa-check-circle"></i> Service client réactif</li>
        </ul>
      <% end %>
  </div>
  <div id="error" class="modal__fields-errors"></div>
  <div class="modal__form">
    <%= form_for GuideRequest.new, remote: true do |f| %>
      <%= f.hidden_field :guide_id, value: @guide.id %>
      <div class="row g-2">
        <div class="col">
          <%= f.label "Nom" %>
          <%= f.text_field :last_name, class: "form-control" , placeholder: "Jean" , required: true %>
        </div>
        <div class="col">
          <%= f.label "Prénom" %>
          <%= f.text_field :first_name, class: "form-control" , placeholder: "Dupont" , required: true %>
        </div>
      </div>
      <div class="form-group">
        <%= f.label "E-mail" %>
        <%= f.email_field :email, class: "form-control" , placeholder: "jean.dupont@email.fr" , required: true %>
      </div>
      <div class="form-group">
        <%= f.label "Date de naissance" %>
        <%= f.date_field :date_of_birth, class: "form-control" , required: true %>
      </div>
      <div class="form-check mb-3">
        <%= f.check_box :newsletter, { class: "form-check-input" , required: true }, 1, nil %>
        <%= f.label "" , class: "form-check-label" , style: "font-size: 0.75rem" do %>
          En envoyant ma demande j'accepte de recevoir les dernières nouveautés de Rock Don't Stock par email.
        <% end %>
      </div>
      <hr />
      <% if @is_purchase %>
        <div class="form__total">
          <div>Total</div>
          <div class="form__price">
            <%= @guide.price || "3.90" %>€
          </div>
        </div>
        <button type="submit" class="modal__form__submit">Continuer</button>
      <% else %>
        <button type="submit" class="modal__form__submit">Recevoir mon guide</button>
      <% end %>
    <% end %>
  </div>
</div>